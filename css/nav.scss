@import "reset";
@import "mixins";
@import "colors";

$navDuration: .3s;
$menuDuration: 1200ms;
$navMinHeight: 80px;

.logo-link {
  font-size: 0;
  width: 60px;
  height: 20px;
  display: inline-block;
  position: absolute;
  top: 50%;
  left: 0;
  transform: translate3d(0, -50%, 0);
}

/**
 * Navigation
 */
.no-js  {
  #nav-links {
    opacity: 1;
    pointer-events: all;
  }

  nav {
    height: 300px;

    &.no-js {
      display: block;
    }
  }

  #hamburger-icon {
    display :none;
  }
}

nav {
  position: relative;
  z-index: 9999;
  height: $navMinHeight;
  overflow: hidden;

  .content-wrapper {
    min-height: $navMinHeight;
  }

  &.animates {
    @include transition(height, .25s, ease-in-out);
  }
}

.support nav {
  height: 86px;

  &.no-js {
    height: 300px;
  }
}

#nav-links {
  position: absolute;
  top: $navMinHeight;
  left: 0;
  width: 100%;
  text-align: center;
  opacity: 0;
  pointer-events: none;
  z-index: 9998;
  @include transition(opacity, .25s, ease-in-out);

  li {
    display: block;

    &:last-child {
      margin-bottom: 0;
    }
  }

  a:link, a:visited {
    color: $textColorSecondary;
    display: inline-block;
    padding: 0.25em 0;
    @include transition(color, .25s, ease-in-out);

    &:hover,
    &.active {
      color: $textColorPrimary;
    }

    &.active {
      font-weight: 600;
    }
  }
}

nav.active {
  height: 220px;

  #nav-links {
    transition-delay: 200ms;
    opacity: 1;
    pointer-events: all;
  }
}

#hamburger-icon {
  position: absolute;
  top: 50%;
  right: 0;
  width: 20px;
  height: 20px;
  z-index: 9999;
  transform: translate3d(0, -50%, 0);

  span {
    display: block;
    position: absolute;
    height: 1px;
    width: 100%;
    background: $textColorSecondary;
    opacity: 1;
    @include transition(all, .25s, ease-in-out);

    &.top {
      top: 20%;
    }
    &.middle {
      top: 50%;
    }
    &.bottom {
      top: 80%;
    }
  }

  &.active {
    span {
      top: 50%;
    }
    .top {
      @include rotate(45deg);
    }
    .bottom {
      @include rotate(-45deg);
    }
    .middle {
      opacity: 0;
    }
  }
}

@media screen and (min-width: 768px) {
  .no-js  {
    nav {
      height: auto;
    }
  }

  .support nav {
    height: auto;
  }

  nav {
    position: relative;
    padding: 2em 0;
    height: auto;
    min-height: 0;

    .content-wrapper {
      min-height: 0;
    }
  }

  #hamburger-icon {
    display: none;
  }

  #nav-links {
    position: relative;
    top: auto;
    left: auto;
    width: auto;
    text-align: right;
    margin-top: 0;
    opacity: 1;
    pointer-events: all;

    li {
      font-size: 1em;
      display: inline-block;
      margin: 0 0 0 3em;

      a {
        padding: 2em 0;
        position: relative;

        span {
          display: inline-block;
          position: relative;
          z-index: 2;
        }

        &:hover {
          &:before {
            opacity: 1;
            transform: scale3d(1, 1, 1);
            transition: opacity 200ms ease-in-out, transform 200ms ease-in-out;
          }
        }

        &:before {
          content: "-";
          font-size: 0;
          text-indent: -9999px;
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: -20px;
          background: #f1f1f1;
          @include border-radius(20px);
          z-index: 1;
          padding: 0 20px;
          opacity: 0;
          transform: scale3d(0.8, 0.8, 1);
        }
      }
    }
  }
}
